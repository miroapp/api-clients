# coding: utf-8

"""
Miro Developer Platform

<img src=\"https://content.pstmn.io/47449ea6-0ef7-4af2-bac1-e58a70e61c58/aW1hZ2UucG5n\" width=\"1685\" height=\"593\">  ### Miro Developer Platform concepts  - New to the Miro Developer Platform? Interested in learning more about platform concepts?? [Read our introduction page](https://beta.developers.miro.com/docs/introduction) and familiarize yourself with the Miro Developer Platform capabilities in a few minutes.   ### Getting started with the Miro REST API  - [Quickstart (video):](https://beta.developers.miro.com/docs/try-out-the-rest-api-in-less-than-3-minutes) try the REST API in less than 3 minutes. - [Quickstart (article):](https://beta.developers.miro.com/docs/build-your-first-hello-world-app-1) get started and try the REST API in less than 3 minutes.   ### Miro REST API tutorials  Check out our how-to articles with step-by-step instructions and code examples so you can:  - [Get started with OAuth 2.0 and Miro](https://beta.developers.miro.com/docs/getting-started-with-oauth)   ### Miro App Examples  Clone our [Miro App Examples repository](https://github.com/miroapp/app-examples) to get inspiration, customize, and explore apps built on top of Miro's Developer Platform 2.0.

The version of the OpenAPI document: v2.0
Generated by OpenAPI Generator (https://openapi-generator.tech)

Do not edit the class manually.
"""  # noqa: E501

from __future__ import annotations
import pprint
import re  # noqa: F401
import json

from pydantic import BaseModel, Field, StrictBool, StrictStr, field_validator
from typing import Any, ClassVar, Dict, List, Optional
from miro_api.models.create_user_resource_name import CreateUserResourceName
from miro_api.models.create_user_resource_photos_inner import CreateUserResourcePhotosInner
from miro_api.models.create_user_resource_roles_inner import CreateUserResourceRolesInner
from miro_api.models.create_user_resource_urn_ietf_params_scim_schemas_extension_enterprise20_user import (
    CreateUserResourceUrnIetfParamsScimSchemasExtensionEnterprise20User,
)
from typing import Optional, Set
from typing_extensions import Self


class CreateUserResource(BaseModel):
    """
    CreateUserResource
    """  # noqa: E501

    schemas: Optional[List[StrictStr]] = Field(
        default=None,
        description="Identifies which schema(s) this resource uses. In this case it is the SCIM core User schema.",
    )
    user_name: StrictStr = Field(
        description="The unique username/login identifier. An email address in this case. <br><br> Note: Payload must include the userName attribute populated with an email address<br><br> User is created with this email address in the organization. This attribute will be used as full name of the created user if the displayName or name attribute is not provided.",
        alias="userName",
    )
    name: Optional[CreateUserResourceName] = None
    display_name: Optional[StrictStr] = Field(
        default=None,
        description="A human-readable name for the user, typically the full name. This attribute is used if the value is not empty. <br><br> Maximum length: 60 characters",
        alias="displayName",
    )
    user_type: Optional[StrictStr] = Field(
        default=None,
        description="Free-form string to indicate the user license type in the organization. <br><br> Only supported values for licenses are allowed. Supported licences for organizations can vary. They can potentially have the following values: Full, Free, Free Restricted, Full (Trial), Basic. <br><br> Note: When `userType` is specified, the `userType` license is set per the value provided. When `userType` is not specified, the user license is set according to internal Miro logic, which depends on the organization plan.",
        alias="userType",
    )
    active: Optional[StrictBool] = Field(
        default=None, description="Indicates whether the user is active or deactivated in the organization."
    )
    photos: Optional[List[CreateUserResourcePhotosInner]] = Field(
        default=None,
        description='An array of display picture for the user in the organization. Contains photo value and type. <br><br> Notes: Must be a text URL to the image. Supported file types: jpg, jpeg, bmp, png, gif. <br><br> To define file type, you should have defined file extension in url (e.g. https://host.com/avatar_user1.jpg) or request to url should return together with a file content a header Content-Type (e.g. Content-Type = image/jpeg) <br><br> Maximum file size to download is: 31457280 bytes. <br><br> Example (Okta): photos.^[type==photo].value <br> Example (Azure): photos[type eq "photo"].value',
    )
    roles: Optional[List[CreateUserResourceRolesInner]] = Field(
        default=None,
        description='An array of roles assigned to the user in the organization. Contains role value, display, type, and primary flag. <br><br> organization_user_role supported values include: ORGANIZATION_INTERNAL_ADMIN and ORGANIZATION_INTERNAL_USER. organization_admin_role supported values include: Content Admin, User Admin, Security Admin, or names of custom admin roles. <br><br> Example (Okta) for organization_user_role: roles.^[primary==true].value <br> Example (Azure) for organization_user_role: roles[primary eq "True"].value <br> Example (Okta) for organization_admin_role: roles.^[primary==false].value <br> Example (Azure) for organization_admin_role: roles[primary eq "False"].value <br>',
    )
    preferred_language: Optional[StrictStr] = Field(
        default=None,
        description="Specifies the user's preferred language. <br><br> Example: en_US for English.",
        alias="preferredLanguage",
    )
    urnietfparamsscimschemasextensionenterprise2_0_user: Optional[
        CreateUserResourceUrnIetfParamsScimSchemasExtensionEnterprise20User
    ] = Field(default=None, alias="urn:ietf:params:scim:schemas:extension:enterprise:2.0:User")
    additional_properties: Dict[str, Any] = {}
    __properties: ClassVar[List[str]] = [
        "schemas",
        "userName",
        "name",
        "displayName",
        "userType",
        "active",
        "photos",
        "roles",
        "preferredLanguage",
        "urn:ietf:params:scim:schemas:extension:enterprise:2.0:User",
    ]

    @field_validator("schemas")
    def schemas_validate_enum(cls, value):
        """Validates the enum"""
        if value is None:
            return value

        for i in value:
            if i not in set(["urn:ietf:params:scim:schemas:core:2.0:User"]):
                raise ValueError("each list item must be one of ('urn:ietf:params:scim:schemas:core:2.0:User')")
        return value

    model_config = {
        "populate_by_name": True,
        "validate_assignment": True,
        "protected_namespaces": (),
    }

    def to_str(self) -> str:
        """Returns the string representation of the model using alias"""
        return pprint.pformat(self.model_dump(by_alias=True))

    def to_json(self) -> str:
        """Returns the JSON representation of the model using alias"""
        # TODO: pydantic v2: use .model_dump_json(by_alias=True, exclude_unset=True) instead
        return json.dumps(self.to_dict())

    @classmethod
    def from_json(cls, json_str: str) -> Optional[Self]:
        """Create an instance of CreateUserResource from a JSON string"""
        return cls.from_dict(json.loads(json_str))

    def to_dict(self) -> Dict[str, Any]:
        """Return the dictionary representation of the model using alias.

        This has the following differences from calling pydantic's
        `self.model_dump(by_alias=True)`:

        * `None` is only added to the output dict for nullable fields that
          were set at model initialization. Other fields with value `None`
          are ignored.
        * Fields in `self.additional_properties` are added to the output dict.
        """
        excluded_fields: Set[str] = set(
            [
                "additional_properties",
            ]
        )

        _dict = self.model_dump(
            by_alias=True,
            exclude=excluded_fields,
            exclude_none=True,
        )
        # override the default output from pydantic by calling `to_dict()` of name
        if self.name:
            _dict["name"] = self.name.to_dict()
        # override the default output from pydantic by calling `to_dict()` of each item in photos (list)
        _items = []
        if self.photos:
            for _item in self.photos:
                if _item:
                    _items.append(_item.to_dict())
            _dict["photos"] = _items
        # override the default output from pydantic by calling `to_dict()` of each item in roles (list)
        _items = []
        if self.roles:
            for _item in self.roles:
                if _item:
                    _items.append(_item.to_dict())
            _dict["roles"] = _items
        # override the default output from pydantic by calling `to_dict()` of urnietfparamsscimschemasextensionenterprise2_0_user
        if self.urnietfparamsscimschemasextensionenterprise2_0_user:
            _dict["urn:ietf:params:scim:schemas:extension:enterprise:2.0:User"] = (
                self.urnietfparamsscimschemasextensionenterprise2_0_user.to_dict()
            )
        # puts key-value pairs in additional_properties in the top level
        if self.additional_properties is not None:
            for _key, _value in self.additional_properties.items():
                _dict[_key] = _value

        return _dict

    @classmethod
    def from_dict(cls, obj: Optional[Dict[str, Any]]) -> Optional[Self]:
        """Create an instance of CreateUserResource from a dict"""
        if obj is None:
            return None

        if not isinstance(obj, dict):
            return cls.model_validate(obj)

        _obj = cls.model_validate(
            {
                "schemas": obj.get("schemas"),
                "userName": obj.get("userName"),
                "name": CreateUserResourceName.from_dict(obj["name"]) if obj.get("name") is not None else None,
                "displayName": obj.get("displayName"),
                "userType": obj.get("userType"),
                "active": obj.get("active"),
                "photos": (
                    [CreateUserResourcePhotosInner.from_dict(_item) for _item in obj["photos"]]
                    if obj.get("photos") is not None
                    else None
                ),
                "roles": (
                    [CreateUserResourceRolesInner.from_dict(_item) for _item in obj["roles"]]
                    if obj.get("roles") is not None
                    else None
                ),
                "preferredLanguage": obj.get("preferredLanguage"),
                "urn:ietf:params:scim:schemas:extension:enterprise:2.0:User": (
                    CreateUserResourceUrnIetfParamsScimSchemasExtensionEnterprise20User.from_dict(
                        obj["urn:ietf:params:scim:schemas:extension:enterprise:2.0:User"]
                    )
                    if obj.get("urn:ietf:params:scim:schemas:extension:enterprise:2.0:User") is not None
                    else None
                ),
            }
        )
        # store additional fields in additional_properties
        for _key in obj.keys():
            if _key not in cls.__properties:
                _obj.additional_properties[_key] = obj.get(_key)

        return _obj
